---
title: Repr√©sentation d'un texte
description: Comprendre la repr√©sentation d'un texte sur une machine
sidebar_position: 5
---

Comme les nombres, les caract√®res, lettres et symboles doivent pouvoir √™tre stock√©es dans une m√©moire. Le langage binaire √©tant le seul possible, il faut donc coder chaque caract√®re en binaire.

Il existe pour cela plusieurs syst√®me de codage, chacun ayant ses propres avantages et inconv√©nients. Nous allons dans ce cours nous essayer aux plus r√©pandus.

Pour encoder du texte, il y a plusieurs contraintes :
- Il faut que tous les ordinateurs utilisent le m√™me encodage.
- Il doit permettre de repr√©senter le plus de caract√®res possibles, en particulier les caract√®res non-imprimables (ex : *retoour √† la ligne*, *espace*, etc...).
- Il doit √™tre le plus compact possible pour √©conomiser de la m√©moire.

## Le code ASCII

Le code ASCII (American Standard Code for Information Interchange) a √©t√© cr√©√© en 1951 et permet de coder les caract√®res sur 7 bits (donc 128 possibilit√©s).

Pour √©tablir une correspondance entre les caract√®res et leurs codes ASCII, il existe la table ASCII.
Pour trouver l'octet (repr√©sent√© par un nombre en h√©xad√©cimal) associ√© √† un caract√®re, il suffit de concat√©ner le chiffre de sa ligne avec celui de sa colonne.

> Exemple : `A` correspond au nombre $41_{16}$ et `+` au nombre $2B_{16}$.

:::note Exercice

- Quel est le code ASCII du caract√®re `e` ? et celui du caract√®re `E` ?
- Quel est le code ASCII du caract√®re `√©` ? Quel conclusion en tirer ?
- Traduire le texte suivant en code ASCII : `Hello world!`.
- Traduire le code ASCII en texte : `43 65 63 69 20 65 73 74 20 75 6E 20 74 65 78 74 65 21`.

:::

L'inconv√©nient du code ASCII est donc sa faible taille de 128 caract√®res. Il est donc impossible de coder tous les caract√®res.

## La norme ISO 8859

Les caract√®res de la table ASCII se sont vite av√©r√©s insuffisants pour transmettre des textes dans des langues autres que l'anglais.
Pour rem√©dier √† ce probl√®me, la norme ISO 8859 a √©t√© cr√©√©e. Elle est une extension de la table ASCII o√π les 8 bits de chaque octet sont utilis√© pour coder les caract√®res.
Au total, ce sont donc 256 carat√®res qui peuvent √™tre encod√©s. Malgr√© une grande augmentation du nombre de carat√®res encodables, cela reste insuffisant pour repr√©senter tous les caract√®res utilis√©s dans d'autres langues.

De nombreux syst√®me d'encodage sont issus de cette norme. Par exemple, la norme ISO 8859-1 ou encore le "latin-1".

## L'Unicode

L'Unicode n'est pas un encodage mais une liste de tous les carac√®res avec un num√©ro unique de r√©f√©rence. 

> Exemple : `√©` est le caract√®re qui a le code Unicode `U+00E9`.

Celui ci permet de coder tous les caract√®res (m√™me les √©mojis) et donc de stocker des textes sur une machine.

:::note Exercice

- Quel est sont les codes Unicode de `G`, `‚àë` et `‚ôï` ?
- Et celui de `üÇÉ` ?
:::

L'inconv√©nient du syst√®me Unicode est qu'il prend beaucoup de place en m√©moire : la plupart des caract√®res dont on 
a besoin peuvent se coder sur un seul octet.

## L'UTF-8

C'est l√† qu'entre en jeu le code UTF-8 qui m√©lange la simplicit√© du code ASCII avec l'efficacit√© de l'Unicode.

En UTF-8 les caract√®res sont cod√©s sur 1 √† 4 octets.
- Les caract√®res de base (lettres latines) sont cod√©es comme en ASCII.
- Les caract√®res sup√©rieurs sont cod√©es sur plusieurs octets.

Le principe de l'encodage UTF-8 est le suivant :
- Si le bit de poid fort d'un octet est √† `0`, alors il s'agit d'un caract√®re ASCII cod√© sur 7 bits.
- Sinon, les premiers bits de poids fort de l'octet indiquent le nombre d'octets utilis√©s pour encoder le caract√®re √† l'aide d'une s√©quence de bits √† `1` et se terminant par `0`. Par exemple, `110xxxxx` signifiie que le caract√®re est cod√© sur 2 octets car la s√©quence poss√®de 2 bits √† `1`.
- Enfin, dans le cas d'un encodage sur $k$ octets, les $k-1$ octets qui suivent doivent √™tre de forme `10xxxxxx`, c'est-√†-dire commencer par deux bits de poids fort valant `10`.

| Plage | Suite d'octets (en binaire) | bits codant le caract√®re |
| ----- | --------------------------- | ------------------------ |
| `U+0000` √† `U+007F` | `0xxxxxxx` | 7 bits |
| `U+0080` √† `U+07FF` | `110xxxxx 10xxxxxx` | 11 bits |
| `U+0800` √† `U+FFFF` |  `1110xxxx 10xxxxxx 10xxxxxx` | 16 bits |
| `U+1000` √† `U+10FFFF` |  `11110xxxx 10xxxxxx 10xxxxxx 10xxxxxx` | 21 bits |



## Exercices

:::note QCM
import { Question } from '@site/src/components/Markdown/Trainers/Question';

<Question
  question="Combien de caract√®res diff√©rents peuvent √™tre encod√©s avec le code ASCII ?"
  choices={[
    { label: '127', isCorrect: false },
    { label: '128', isCorrect: true },
    { label: '255', isCorrect: false },
    { label: '256', isCorrect: false },
  ]}
  explanation="C'√©tait √©crit plus haut... Le code ASCII permet de coder 128 caract√®res."
/>

<Question
  question="Avec l'encodage UTF-8, les caract√®res sont cod√©s sur ..."
  choices={[
    { label: 'un seul octet', isCorrect: false },
    { label: 'deux octet', isCorrect: false },
    { label: 'trois octets', isCorrect: false },
    { label: 'un, deux, trois ou quatre octets suivant les cas', isCorrect: true },
  ]}
  explanation="C'√©tait √©crit plus haut... Le code ASCII permet de coder 128 caract√®res."
/>

<Question
  question="Quel √©tait le d√©faut principal de l'encodage ASCII qui emp√™chait qu'il devienne universel ?"
  choices={[
    { label: 'Il ne codait pas les lettres latines', isCorrect: false },
    { label: 'L\'encodage de chaque caract√®re prenait trop de place', isCorrect: false },
    { label: 'Il ne permettait pas de coder tous les caract√®res existants', isCorrect: true },
    { label: 'Le nom √©tait trop dur √† prononcer', isCorrect: false },
  ]}
  explanation="Certains carat√®res n'√©tait pas encodable car ils n'existaient pas dans la table ASCII (ex : √©)."
/>

:::

:::note Exercice 1
Voici une s√©quence d'octets, repr√©sent√©es en base 10, dire si elle repr√©sente une s√©quence de caract√®res UTF-8 valide ou non. Si elle est valide, combien de caract√®res y a-t-il ?

- `126` `64` `100`
- `198` `129` `129`
- `227` `180` `140`

:::

<details>
  <summary>Solution</summary>
  <ol>
    <li>
        La s√©quence est valide car chaque octets est inf√©reieur √† 127, ils respr√©sentent chacun un caract√®re ASCII. 
        La s√©quence fait donc 3 caract√®res.
    </li>
    <li>
        On a $198 = 128 + 64 + 4+ 2 = 1100 0110_2$ et $129 = 128 + 1 = 1000 0001_2$. Le premier octet indique un encodage sur 2 octets. 
        Le deuxi√®me octet est bien un octet interm√©diaire. Mais le troisi√®me octet l'est aussi donc la s√©quence est invalide.
    </li>
    <li>
        On $227 = 128 + 64 + 32 + 2 + 1 = 1110 0011_2$ (d√©but d'encodage sur 3 octets), 
        $180 = 128 + 32 + 16 + 4 = 1011 0100_2$ (octet interm√©diaire) et 
        $140 = 128 + 8 + 2 = 1000 1100_2$ (dernier octet interm√©diaire). La s√©quence est valide est fait donc 1 caract√®re.
    </li>
  </ol>
</details>